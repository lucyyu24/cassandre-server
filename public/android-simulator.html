<!doctype html>
<html>
  <head>
  	<title>Android Simulator</title>
  </head>
  <body>
  	<form action="">
      id:<input id="id" autocomplete="off" />
      x:<input id="x" autocomplete="off" />
      y:<input id="y" autocomplete="off" />
      r:<input id="r" autocomplete="off" />
      <button>Send</button>
    </form>
  	<script src="/socket.io/socket.io.js"></script>
  	<script src="http://code.jquery.com/jquery-1.11.1.js"></script>
  	<script>
      // TODO: update alert-location and alert-noise
  		var socket1 = io('/android');
      var socket2 = io('/android');
      var socket3 = io('/android');

  		/*$('form').submit(function(){
      		socket.emit('alert', { x: $('#x').val(),
                                  y: $('#y').val(),
                                  id: $('#id').val(),
                                  r: $('#r').val()
                                });
      		console.log('in form submits');
    		// $('#x').val(''); $('#y').val('');
      		return false;
    	});*/

      // Location on Princeton University Department of Electrical Engineering
      const Coordinate = function(lat, lng) {
        this.lat = lat;
        this.lng = lng;
      };

      const D = new Coordinate(40.35086956450847, -74.65064283460379);
      const E = new Coordinate(40.3499977524355, -74.65117525309324);
      const F = new Coordinate(40.3508429912706, -74.65160205960274);

      // set location for 3 devices
      socket1.emit('alert-location', '192.168.1.1', D.lat, D.lng);
      socket2.emit('alert-location', '192.168.1.2', E.lat, E.lng);
      socket3.emit('alert-location', '192.168.1.3', F.lat, F.lng);

      // 3 devices detect noise
      socket1.emit('alert-noise', '192.168.1.1', D.lat, D.lng, 60);
      socket2.emit('alert-noise', '192.168.1.2', E.lat, E.lng, 70);
      socket3.emit('alert-noise', '192.168.1.3', F.lat, F.lng, 80);
  	</script>
  </body>
</html>
